Range types are unique to Postgres. Range types allow you to store a _range_ of
 values of a particular _subtype_ (i.e. some other data type, such as 
 `numeric`). You could then check whether something falls within
  or outside of the range, or before 
 or after the range _bounds_. It's also helpful for finding overlaps.

 The built-in range types in Postgres have 
 either numeric or date/time subtypes, implying that common uses involve some 
 measure of time or numeric data. Scheduling or 
 calendar applications are great candidates, as are measurements from an 
 instrument. You can also create your own range types, per the 
 [official docs](https://www.postgresql.org/docs/current/rangetypes.html).

In our business scenario, we're using a field `event_dt` to store datetime 
ranges for Extra Mile Consulting's event offerings. We'll set it to the 
`tstzrange` type, for `timestamp with time zone`.

### Declare range type

Let's create our event table:

```
CREATE TYPE event_mode AS ENUM ('Virtual', 'In-person');

CREATE TABLE event (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name TEXT NOT NULL,
    event_dt tstzrange NOT NULL,
    mode event_mode NOT NULL
);
```{{execute}}

This table also includes the enum type field `mode`, which we'll look at later.

### Add range values

Let's go ahead and add some events:

```
INSERT INTO event (name, event_dt, mode)
    VALUES ('Individual Appointment', '[2019-12-02 14:30 PST, 2019-12-02 15:30 PST)', 'In-person'),
            ('Individual Appointment', '[2019-12-11 17:00 EST, 2019-12-11 17:30 EST)', 'Virtual'),
            ('Resume and Cover Letter Workshop', '[2019-12-14 10:00 PST, 2019-12-14 12:00 PST)', 'In-person'),
            ('Interview Practice', '[2020-01-11 09:00 PST, 2020-01-11 12:00 PST)', 'In-person')
;
```{{execute}}

Let's take a closer look at the `tstzrange` syntax we used:

`'[2019-12-02 14:30 PST, 2019-12-02 15:30 PST)'`

Ranges are expressed with lower and upper **bounds**, and these bounds can be 
_inclusive_ or _exclusive_ of the boundary points. A square bracket (`[` or 
`]`) denotes an inclusive bound, and parentheses (`(` or `)`) denotes 
exclusive. So in the syntax above, we're saying that the event time range is 
_inclusive_ of the start time at 2:30PM PST, but exclusive of the end time at 
3:30PM PST.

We can also use a constructor function to add range values - the name of the 
function is the same as the name of the type. Here's an example for `tstzrange`:

```
INSERT INTO event (name, event_dt, mode)
VALUES ('Test Event', 
        tstzrange('2019-12-14 12:00:00 EST', '2019-12-14 17:00:00 EST', '[)'),
        'Virtual'        
);
```{{execute}}

Up next, we'll look at some other things we can do with ranges.

